#include <stdio.h>
#include <string.h>
#include <ctype.h>
#include <time.h>

void encriptar(char *chave, char* texto, int chaveLength){
    int textoLength = strlen(texto);

    for (int i = 0; i < textoLength; i++) {
        char letraChave = chave[i % chaveLength];
        if (texto[i] >= 'A' && texto[i] <= 'Z') {
            texto[i] = ((texto[i] - 'A') + (letraChave - 'A')) % 26 + 'A';
        }
    }
}

void wrapEncriptar(char *texto, int tamanhoTexto, char *chave, int tamanhoChave) {
    int inicio = 0;
    while (inicio < tamanhoTexto) {
        int blockSize = (tamanhoTexto - inicio < 10) ? tamanhoTexto - inicio : 10;
        char buffer[11] = "";
        strncpy(buffer, texto + inicio, blockSize);
        encriptar(chave, buffer, tamanhoChave);
        printf("%s", buffer); 
        inicio += blockSize;
    }
}

int main() {
    clock_t start_time, end_time;
    double cpu_time_used;

    start_time = clock();

    char texto[8000] = "LOREMIPSUMDOLORSITAMET,CONSECTETURADIPISCINGELIT.QUISQUEETJUSTOAPURUSCONVALLISFEUGIATQUISNECQUAM.DONECSEDLOBORTISSEM.NAMELEIFENDJUSTOAVELITIACULISEFFICITUR.CRASSODALES,QUAMVITAEMOLLISALIQUAM,LIGULALEOINTERDUMEST,IDMAXIMUSAUGUEDOLORSEDLIBERO.MORBIEUMAURISLECTUS.CURABITURSITAMETMAGNASOLLICITUDIN,LACINIALIBEROINTERDUM,MOLESTIEVELIT.DONECPORTTITORIDSAPIENINULTRICES.SEDQUISQUAMSITAMETANTEULTRICIESINTERDUMQUISQUISURNA.PRAESENTEUISMODLOBORTISNIBHSEDFACILISIS.ETIAMMATTISMAURISSEM,ACPOSUERENEQUEBIBENDUMEU.VESTIBULUMSODALESEFFICITURQUAM,NONACCUMSANFELIS.VIVAMUSETAUGUEINLEOAUCTORFAUCIBUSETELEMENTUMENIM.DONECTRISTIQUEFRINGILLANEQUE,VELELEIFENDNISIAUCTORID.ETIAMVELNUNCETLACUSRUTRUMVIVERRA.SUSPENDISSEPELLENTESQUELOREMIDMASSARHONCUS,NONALIQUETODIOLAOREET.PRAESENTUTVEHICULAARCU.PROINEGETMOLLISMASSA,VELCONSECTETUREX.PROINANTEMI,ALIQUETSITAMETTEMPUSNEC,DICTUMTEMPUSODIO.SEDAUGUEEST,CONDIMENTUMACALIQUAMEGET,CURSUSAJUSTO.INTEGERGRAVIDAANTEMAGNA,NECCONDIMENTUMLOREMFEUGIATET.DONECEGESTASPELLENTESQUEMOLLIS.PELLENTESQUEETELITIDSEMPOSUERECONSECTETURUTETURNA.AENEANPLACERATFACILISISTORTOR,IDPORTTITORDOLORCONGUEUT.NUNCBLANDITPULVINARVELIT,FEUGIATMATTISNULLAFAUCIBUSSED.UTNONNISLEGETNISIPLACERATDICTUMQUISEUTURPIS.VIVAMUSUTSODALESNUNC,ACSOLLICITUDINODIO.INTEGERSEDNIBHCURSUS,PLACERATANTEAC,IMPERDIETPURUS.PROINEGESTASAUGUEVELSAPIENVESTIBULUM,EUIACULISEXMOLESTIE.MAECENASIDRISUSULTRICIES,PLACERATODIOA,PORTAARCU.ETIAMATLOREMRHONCUS,IACULISESTAT,DIGNISSIMLIBERO.PELLENTESQUEDAPIBUSPULVINARLACINIA.PRAESENTBIBENDUM,NEQUEQUISULTRICIESLAOREET,LACUSEXTRISTIQUEDIAM,NONCURSUSEXDOLORINTORTOR.FUSCELACUSEST,ULTRICESMALESUADACONGUEEGET,SODALESINTURPIS.NULLAMEGETNISIACRISUSEUISMODLAOREET.SUSPENDISSEETALIQUAMVELIT.UTSODALESLOBORTISRISUSCURSUSDICTUM.PHASELLUSEUMOLESTIEIPSUM,IDRUTRUMLECTUS.PRAESENTCURSUSCOMMODOERATSEDHENDRERIT.CURABITURVIVERRATELLUSVITAELACUSAUCTOREUISMOD.PRAESENTEGETSEMNULLA.PELLENTESQUEACELITMASSA.NAMARISUSNIBH.PELLENTESQUEACCUMSANNIBHVELPORTTITORVARIUS.SEDELEMENTUMELEMENTUMDUIVELELEIFEND.CRASPLACERATSAPIENVELNISITINCIDUNT,VITAETINCIDUNTLOREMPRETIUM.INELEMENTUMDUIUTDICTUMHENDRERIT.DONECGRAVIDAQUISTELLUSIDDICTUM.MAECENASNECQUAMNISI.MAECENASTURPISSAPIEN,LUCTUSACSAPIENET,VIVERRAPHARETRAMETUS.VIVAMUSCONDIMENTUMARCUIDCOMMODOCOMMODO.VESTIBULUMTINCIDUNTTURPISEUARCUVENENATIS,EGETTRISTIQUENISILAOREET.PRAESENTTINCIDUNT,EROSVELSOLLICITUDINLUCTUS,MASSASEMDIGNISSIMNISI,SEDLUCTUSLIBERONISIETAUGUE.SEDEGETMOLLISEX.NULLAAESTNECNISIPULVINARRHONCUSIDVITAEEX.PROINVITAEEUISMODMI.FUSCEVITAESODALESTURPIS.VIVAMUSSODALESENIMEGETVOLUTPATLAOREET.INTEGERSITAMETORCIETANTELOBORTISFAUCIBUSSITAMETNONEROS.NAMVARIUSNECNIBHNECSEMPER.DUISIMPERDIETERATETPULVINARDIGNISSIM.NUNCFINIBUSSEDMIQUISVOLUTPAT.FUSCEFAUCIBUSULLAMCORPERGRAVIDA.INPOSUERETEMPORRUTRUM.NUNCDAPIBUSTORTORACPELLENTESQUECONDIMENTUM.FUSCESOLLICITUDINULTRICESLIGULANECINTERDUM.ETIAMAVIVERRAPURUS,VITAERUTRUMIPSUM.SUSPENDISSEPOTENTI.DONECPOSUERECONVALLISNISIUTALIQUET.FUSCESODALESNISIINFELISPRETIUMTINCIDUNT.VESTIBULUMSITAMETMOLLISNEQUE,EGETMALESUADAORCI.MAECENASPULVINARENIMVITAEDOLORTEMPUSMATTIS.INTEGERVITAEFELISLECTUS.NULLAORCIEROS,FEUGIATAULLAMCORPEREGET,ALIQUAMSEDAUGUE.NULLAMSEDULTRICIESMETUS.PELLENTESQUEVITAEAUGUESITAMETDOLORVESTIBULUMCOMMODO.VIVAMUSTINCIDUNTDOLORLIBERO,VELSODALESSEMHENDRERITIN.SUSPENDISSELOBORTISCURSUSSEMPER.CURABITURDICTUMCONSECTETURBIBENDUM.MAECENASCONSECTETURIDVELITINPHARETRA.PELLENTESQUECOMMODOVOLUTPATMAGNA,INULTRICESENIMLACINIAPLACERAT.NULLAMSEDANTEAANTEPELLENTESQUEMOLESTIEETSEDAUGUE.PELLENTESQUEDIGNISSIMSOLLICITUDINPURUSIDDAPIBUS.PELLENTESQUEACACCUMSANERAT.PROINACMETUSNONPURUSFEUGIATVESTIBULUMSEDSITAMETELIT.PHASELLUSHENDRERITULTRICIESMAGNAEUSODALES.PELLENTESQUEHABITANTMORBITRISTIQUESENECTUSETNETUSETMALESUADAFAMESACTURPISEGESTAS.CRASFRINGILLACONSECTETURRISUS,INRUTRUMNISIFRINGILLAET.CLASSAPTENTTACITISOCIOSQUADLITORATORQUENTPERCONUBIANOSTRA,PERINCEPTOSHIMENAEOS.FUSCENECCONGUENISI.FUSCETINCIDUNT,QUAMINEGESTASMAXIMUS,TURPISMASSAMOLLISLECTUS,ETBIBENDUMDIAMSAPIENIDLOREM.DONECETEXVELIT.DONECCURSUSSEMIDDICTUMTINCIDUNT.MORBIACCUMSANQUISLOREMETDICTUM.DONECFACILISISCOMMODONEQUEUTPORTTITOR.PHASELLUSQUISRISUSINANTEFEUGIATBLANDITUTNECRISUS.DONECALIQUAMNIBHLIBERO,EGETVESTIBULUMNULLAMAXIMUSVEL.INTEGERVELITSEM,DIGNISSIMUTPLACERATAT,PORTAEGETANTE.DUISEGETTURPISSEM.QUISQUEFINIBUSULTRICIESDUIACAUCTOR.PROINVELTORTORPHARETRA,MALESUADAMAGNAPRETIUM,MATTISERAT.PHASELLUSMOLESTIETELLUSPORTTITORLIBEROPOSUERERUTRUM.PRAESENTPHARETRAMETUSVITAELOREMCONVALLISBIBENDUM.PRAESENTPHARETRAORCIEGETFACILISISMATTIS.DONECPELLENTESQUENUNCIDEROSVEHICULAIACULIS.DONECETTELLUSIDLOREMEGESTASRHONCUS.SEDERATNEQUE,RUTRUMETEROSEU,SODALESULTRICIESNEQUE.VESTIBULUMIDMASSAVARIUS,CONSECTETURTELLUSQUIS,HENDRERITNULLA.DUISVELTEMPUSSEM.ALIQUAMERATVOLUTPAT.PROINBLANDITALIQUAMELITVITAEFERMENTUM.NAMACNULLAIDTURPISTINCIDUNTEFFICITUREGESTASVITAEDIAM.CURABITUREGETCONDIMENTUMLIBERO,NECCONGUEMETUS.SEDTINCIDUNTATMAURISNONALIQUAM.PHASELLUSEFFICITURARCUSITAMETSODALESPHARETRA.VIVAMUSEUENIMDICTUMNUNCIACULISMAXIMUS.CRASLUCTUSALIQUAMNEQUEVITAECONSEQUAT.VIVAMUSUTMASSAORCI.INHACHABITASSEPLATEADICTUMST.INSAGITTISNEQUEACIACULISULLAMCORPER.AENEANBIBENDUMQUAMSITAMETARCUTEMPUSEUISMOD.ALIQUAMSUSCIPITELITCURSUSVIVERRATRISTIQUE.NAMMAXIMUSSEMATVELITULTRICES,NONCOMMODOMASSAPELLENTESQUE.NULLAELITNIBH,CONSEQUATNONLEOVEL,PULVINARAUCTORLACUS.MAURISCONVALLISVITAEJUSTOTRISTIQUEEUISMOD.DONECALIQUETALIQUAMLIGULA,AMOLESTIEDUIRUTRUMAT.NAMBLANDIT,ELITNECGRAVIDARUTRUM,NIBHSAPIENALIQUETDUI,VITAEFAUCIBUSLIBEROENIMETODIO.PRAESENTCOMMODOORCIFERMENTUMLECTUSMOLLISTEMPOR.SUSPENDISSESUSCIPITVELITSITAMETSUSCIPITGRAVIDA.PHASELLUSSEDMASSAEUMAGNAPHARETRATRISTIQUESEDUTVELIT.MAURISQUISPRETIUMRISUS,IMPERDIETALIQUAMLECTUS.UTRUTRUMDOLORMAGNA,VITAECONSEQUATDOLORCURSUSNON.SUSPENDISSETINCIDUNTDAPIBUSLOBORTIS.PRAESENTAAUCTORTURPIS,VITAELOBORTISELIT.DONECFAUCIBUSLECTUSAFAUCIBUSORNARE.SEDVELMETUSDAPIBUSEXPHARETRAFRINGILLA.NUNCUTFELISGRAVIDA,CONVALLISEXSED,MOLESTIETORTOR.PELLENTESQUEDIGNISSIMLECTUSVITAEORCISUSCIPIT,VENENATISPORTTITORSEMTEMPUS.QUISQUESITAMETSAGITTISENIM.ALIQUAMSITAMETORCIINQUAMFRINGILLAALIQUAM.DONECAUCTORVEHICULATINCIDUNT.CRASTRISTIQUEELITEUQUAMLACINIAORNARE.SEDINFINIBUSLACUS.SUSPENDISSEEUIPSUMNECMAGNAPORTTITOREUISMOD.VIVAMUSULLAMCORPERMATTISALIQUET.LOREMIPSUMDOLORSITAMET,CONSECTETURADIPISCINGELIT.SEDMALESUADAQUISRISUSIDEFFICITUR.FUSCEVITAELACUSELIT.DONECEUISMODENIMNONAUCTORPULVINAR.FUSCEVIVERRAACCUMSANNULLA.VIVAMUSCONDIMENTUMMOLESTIEJUSTOUTALIQUET.QUISQUEDIGNISSIMPORTAFACILISIS.NULLAMEUISMOD,LECTUSUTELEIFENDSAGITTIS,ODIORISUSELEMENTUMQUAM,EGETSUSCIPITFELISELITQUISNISI.LOREMIPSUMDOLORSITAMET,CONSECTETURADIPISCINGELIT.INULTRICIESTORTORVELHENDRERITDICTUM.VESTIBULUMVIVERRAVIVERRAIMPERDIET.UTEFFICITURESTNONANTESODALES,SITAMETTEMPORLECTUSULTRICES.SEDHENDRERITVIVERRASAPIENEULACINIA.QUISQUELOREMNISI,MATTISSEDVEHICULAID,LOBORTISACURNA.PRAESENTCONVALLISJUSTOVIVERRAEXVOLUTPATTEMPUS.MAURISCONVALLISEUISMODNIBH,SITAMETSOLLICITUDINENIMPHARETRAAC.DONECLACINIAGRAVIDAMETUS.MAURISQUISPELLENTESQUETURPIS.PELLENTESQUERUTRUM,SEMNECRUTRUMAUCTOR,TELLUSPURUSPORTASEM,ACFACILISISMAURISURNANECAUGUE.NULLAMETFAUCIBUSEX,EGETULTRICIESSEM.NULLAMVENENATISEROSLOREM,VIVERRAULTRICIESDOLORMALESUADAIN.DONECNECTORTORTELLUS.UTVIVERRA,EROSNECFAUCIBUSLACINIA,URNAJUSTOULTRICIESANTE,EGETMAXIMUSFELISLOREMNECNUNC.ETIAMINTERDUMAUGUEQUISLIGULALUCTUS,ATEMPUSFELISSOLLICITUDIN.MAECENASGRAVIDARUTRUMURNAINMOLLIS.SEDINULTRICESAUGUE.FUSCEUTAUGUEETORCIULTRICESPRETIUMEUVELENIM.ALIQUAMASAGITTISIPSUM.SUSPENDISSEBLANDIT,LOREMNECELEIFENDDICTUM,DUILIBEROFAUCIBUSLOREM,NONMOLLISNIBHEXEUNUNC.MAURISDIGNISSIMTEMPUSORCISEDVULPUTATE.LOREMIPSUMDOLORSITAMET,CONSECTETURADIPISCINGELIT.MAURISCOMMODOFEUGIATMETUSVITAEDIGNISSIM.DONECPELLENTESQUERHONCUSPORTA.AEEANVOLUTPATMASSANONORCIMOLESTIE,EUHENDRERITVELITLAOREET.NAMATINCIDUNTLIBERO,INTINCIDUNTNUNC.ALIQUAMINTERDUMMAURISULLAMCORPER,POSUEREDOLORAC,INTERDUMLEO.AENEANATANTEMETUS.QUISQUEVENENATIS,METUSGRAVIDALUCTUSLOBORTIS,PURUSJUSTODAPIBUSERAT,ACFACILISISVELITARCUNECNISI.MORBIBLANDITPULVINARDIAM,QUISSAGITTISEROSTEMPORA.ETIAMCONSEQUATFEUGIATEROS,SUSCIPITSCELERISQUERISUS.";
    int tamanhoTexto = strlen(texto);
    char chave[] = "PIZZA";
    int tamanhoChave = strlen(chave);

    printf("Texto encriptado: \n");
    wrapEncriptar(texto, tamanhoTexto, chave, tamanhoChave);

    end_time = clock();

    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;

    printf("\n");

    printf("Tempo de CPU usado: %f segundos\n", cpu_time_used);

    return 0;
}
